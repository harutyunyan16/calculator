# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'form.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMessageBox
from head import evaluate


class Ui_Widget(object):
    def setupUi(self, Widget):
        Widget.setObjectName("Widget")
        Widget.resize(481, 602)
        self.but1 = QtWidgets.QPushButton(Widget)
        self.but1.setGeometry(QtCore.QRect(0, 200, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but1.setFont(font)
        self.but1.setStyleSheet("background:orange;color:white;")
        self.but1.setObjectName("but1")
        self.but4 = QtWidgets.QPushButton(Widget)
        self.but4.setGeometry(QtCore.QRect(0, 300, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but4.setFont(font)
        self.but4.setStyleSheet("background:orange;color:white;")
        self.but4.setObjectName("but4")
        self.but7 = QtWidgets.QPushButton(Widget)
        self.but7.setGeometry(QtCore.QRect(0, 400, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but7.setFont(font)
        self.but7.setStyleSheet("background:orange;color:white;")
        self.but7.setObjectName("but7")
        self.but6 = QtWidgets.QPushButton(Widget)
        self.but6.setGeometry(QtCore.QRect(240, 300, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but6.setFont(font)
        self.but6.setStyleSheet("background:orange;color:white;")
        self.but6.setObjectName("but6")
        self.but5 = QtWidgets.QPushButton(Widget)
        self.but5.setGeometry(QtCore.QRect(120, 300, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but5.setFont(font)
        self.but5.setStyleSheet("background:orange;color:white;")
        self.but5.setObjectName("but5")
        self.but3 = QtWidgets.QPushButton(Widget)
        self.but3.setGeometry(QtCore.QRect(240, 200, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but3.setFont(font)
        self.but3.setStyleSheet("background:orange;color:white;")
        self.but3.setObjectName("but3")
        self.but2 = QtWidgets.QPushButton(Widget)
        self.but2.setGeometry(QtCore.QRect(120, 200, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but2.setFont(font)
        self.but2.setStyleSheet("background:orange;color:white;")
        self.but2.setObjectName("but2")
        self.but8 = QtWidgets.QPushButton(Widget)
        self.but8.setGeometry(QtCore.QRect(120, 400, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but8.setFont(font)
        self.but8.setStyleSheet("background:orange;color:white;")
        self.but8.setObjectName("but8")
        self.but9 = QtWidgets.QPushButton(Widget)
        self.but9.setGeometry(QtCore.QRect(240, 400, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but9.setFont(font)
        self.but9.setStyleSheet("background:orange;color:white;")
        self.but9.setObjectName("but9")
        self.clear_but = QtWidgets.QPushButton(Widget)
        self.clear_but.setGeometry(QtCore.QRect(360, 100, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.clear_but.setFont(font)
        self.clear_but.setStyleSheet("background:red;color:white")
        self.clear_but.setObjectName("clear_but")
        self.but0 = QtWidgets.QPushButton(Widget)
        self.but0.setGeometry(QtCore.QRect(0, 500, 241, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but0.setFont(font)
        self.but0.setStyleSheet("background:orange;color:white;")
        self.but0.setObjectName("but0")
        self.but_plus = QtWidgets.QPushButton(Widget)
        self.but_plus.setGeometry(QtCore.QRect(360, 300, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but_plus.setFont(font)
        self.but_plus.setStyleSheet("background:grey;color:white")
        self.but_plus.setObjectName("but_plus")
        self.but_minus = QtWidgets.QPushButton(Widget)
        self.but_minus.setGeometry(QtCore.QRect(360, 400, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but_minus.setFont(font)
        self.but_minus.setStyleSheet("background:grey;color:white")
        self.but_minus.setObjectName("but_minus")
        self.but_divide = QtWidgets.QPushButton(Widget)
        self.but_divide.setGeometry(QtCore.QRect(360, 500, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but_divide.setFont(font)
        self.but_divide.setStyleSheet("background:grey;color:white")
        self.but_divide.setObjectName("but_divide")
        self.but_print = QtWidgets.QPushButton(Widget)
        self.but_print.setGeometry(QtCore.QRect(240, 500, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but_print.setFont(font)
        self.but_print.setStyleSheet("background:red;color:white")
        self.but_print.setObjectName("but_print")
        self.comm_line = QtWidgets.QLineEdit(Widget)
        self.comm_line.setGeometry(QtCore.QRect(0, 0, 481, 101))
        self.comm_line.setFont(font)
        self.comm_line.setStyleSheet("")
        self.comm_line.setObjectName("comm_line")
        self.but_mul = QtWidgets.QPushButton(Widget)
        self.but_mul.setGeometry(QtCore.QRect(360, 200, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.but_mul.setFont(font)
        self.but_mul.setStyleSheet("background:grey;color:white")
        self.but_mul.setObjectName("but_mul")
        self.clear_but_3 = QtWidgets.QPushButton(Widget)
        self.clear_but_3.setGeometry(QtCore.QRect(240, 100, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.clear_but_3.setFont(font)
        self.clear_but_3.setStyleSheet("background:red;color:white;")
        self.clear_but_3.setIconSize(QtCore.QSize(60, 80))
        self.clear_but_3.setObjectName("clear_but_3")
        self.scope1 = QtWidgets.QPushButton(Widget)
        self.scope1.setGeometry(QtCore.QRect(120, 100, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.scope1.setFont(font)
        self.scope1.setStyleSheet("background:grey;color:white;")
        self.scope1.setObjectName("scope1")
        self.scope2 = QtWidgets.QPushButton(Widget)
        self.scope2.setGeometry(QtCore.QRect(0, 100, 121, 101))
        font = QtGui.QFont()
        font.setPointSize(30)
        self.scope2.setFont(font)
        self.scope2.setStyleSheet("background:grey;color:white;")
        self.scope2.setObjectName("scope2")

        self.add_functions()

        self.retranslateUi(Widget)
        QtCore.QMetaObject.connectSlotsByName(Widget)


    def add_functions(self):
        self.but0.clicked.connect(lambda : self.insert(self.but0.text()))
        self.but1.clicked.connect(lambda : self.insert(self.but1.text()))
        self.but2.clicked.connect(lambda : self.insert(self.but2.text()))
        self.but3.clicked.connect(lambda : self.insert(self.but3.text()))
        self.but4.clicked.connect(lambda : self.insert(self.but4.text()))
        self.but5.clicked.connect(lambda : self.insert(self.but5.text()))
        self.but6.clicked.connect(lambda : self.insert(self.but6.text()))
        self.but7.clicked.connect(lambda : self.insert(self.but7.text()))
        self.but8.clicked.connect(lambda : self.insert(self.but8.text()))
        self.but9.clicked.connect(lambda : self.insert(self.but9.text()))
        self.but_plus.clicked.connect(lambda : self.insert(self.but_plus.text()))
        self.but_divide.clicked.connect(lambda : self.insert(self.but_divide.text()))
        self.but_minus.clicked.connect(lambda : self.insert(self.but_minus.text()))
        self.but_mul.clicked.connect(lambda : self.insert(self.but_mul.text()))
        self.scope1.clicked.connect(lambda : self.insert(self.scope1.text()))
        self.scope2.clicked.connect(lambda : self.insert(self.scope2.text()))
        self.but_print.clicked.connect(lambda : self.num())
        self.clear_but.clicked.connect(lambda : self.comm_line.setText(""))
        self.clear_but_3.clicked.connect(lambda : self.comm_line.setText(self.comm_line.text()[0:-1]))
    def num(self):
        try:
            self.comm_line.setText(str(evaluate(self.comm_line.text())))
        except:
            error = QMessageBox()
            error.setWindowTitle("Error")
            error.setText("Invalid expression")
            error.setIcon(QMessageBox.Warning)
            error.setStandardButtons(QMessageBox.Ok|QMessageBox.Cancel)
            error.exec_()



    def insert(self,number):
        if len(self.comm_line.text()) >= 18:
            error = QMessageBox()
            error.setWindowTitle("Error")
            error.setText("Maximum symbvols - 20")
            error.setIcon(QMessageBox.Warning)
            error.setStandardButtons(QMessageBox.Ok|QMessageBox.Cancel)
            error.exec_()
            return False
        self.comm_line.setText(self.comm_line.text() + number)



    def retranslateUi(self, Widget):
        _translate = QtCore.QCoreApplication.translate
        Widget.setWindowTitle(_translate("Widget", "Widget"))
        self.but1.setText(_translate("Widget", "1"))
        self.but4.setText(_translate("Widget", "4"))
        self.but7.setText(_translate("Widget", "7"))
        self.but6.setText(_translate("Widget", "6"))
        self.but5.setText(_translate("Widget", "5"))
        self.but3.setText(_translate("Widget", "3"))
        self.but2.setText(_translate("Widget", "2"))
        self.but8.setText(_translate("Widget", "8"))
        self.but9.setText(_translate("Widget", "9"))
        self.clear_but.setText(_translate("Widget", "CA"))
        self.but0.setText(_translate("Widget", "0"))
        self.but_plus.setText(_translate("Widget", "+"))
        self.but_minus.setText(_translate("Widget", "-"))
        self.but_divide.setText(_translate("Widget", "/"))
        self.but_print.setText(_translate("Widget", "="))
        self.but_mul.setText(_translate("Widget", "*"))
        self.clear_but_3.setText(_translate("Widget", "<"))
        self.scope2.setText(_translate("Widget", "("))
        self.scope1.setText(_translate("Widget", ")"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Widget = QtWidgets.QWidget()
    ui = Ui_Widget()
    ui.setupUi(Widget)
    Widget.show()
    sys.exit(app.exec_())
